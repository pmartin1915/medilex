# 04-seven-day-streak.yaml
# Tests streak tracking over 7 consecutive days (simulated)
# Expected outcome: Streak increments daily, week progress shown

appId: com.healthcarevocabapp
---
- launchApp:
    clearState: true

# Wait for app to initialize
- waitForAnimationToEnd

# Day 1: Complete a study session
- tapOn: "Learn"
- waitForAnimationToEnd

- tapOn: "Know It"
- waitForAnimationToEnd

# Go to Home to check streak
- tapOn: "Home"
- waitForAnimationToEnd

# Verify streak is at least 1
- assertVisible:
    id: ".*streak.*|.*Streak.*"

# Check Progress tab shows streak calendar
- tapOn: "Progress"
- waitForAnimationToEnd

# Verify 7-day calendar is visible
- assertVisible: "M" # Monday
- assertVisible: "T" # Tuesday
- assertVisible: "W" # Wednesday
- assertVisible: "F" # Friday
- assertVisible: "S" # Saturday (appears twice)

# Note: This test validates the streak UI exists
# Full 7-day simulation would require date mocking in the app
# or running the test across 7 actual days

# Verify week progress indicators (checkmarks or highlights)
- assertVisible:
    text: ".*[Ww]eek.*|.*[Dd]ay.*"

# Go back to Home to verify streak card
- tapOn: "Home"
- waitForAnimationToEnd

# Verify streak calendar on home screen
- assertVisible:
    text: ".*[Ss]treak.*"
